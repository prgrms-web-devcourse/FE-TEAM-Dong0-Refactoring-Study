# 6. ê¸°ë³¸ì ì¸ ë¦¬íŒ©í† ë§

## 6-1. í•¨ìˆ˜ ì¶”ì¶œí•˜ê¸°
í•¨ìˆ˜ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê¸°ì¤€ : `ëª©ì ê³¼ êµ¬í˜„ì„ ë¶„ë¦¬`

ì½”ë“œë¥¼ ë³´ê³  ë¬´ìŠ¨ ì¼ì„ í•˜ëŠ”ì§€ íŒŒì•…í•˜ëŠ” ë° í•œì°¸ ê±¸ë¦°ë‹¤ë©´ ê·¸ ë¶€ë¶„ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•œ í›„ `ë¬´ìŠ¨ ì¼`ì— ê±¸ë§ëŠ” ì´ë¦„ì„ ì§“ëŠ”ë‹¤.

ğŸ¤” í•¨ìˆ˜ë¥¼ ì§§ê²Œ ë§Œë“¤ë©´ í•¨ìˆ˜ í˜¸ì¶œì´ ë§ì•„ì ¸ì„œ ì„±ëŠ¥ì´ ëŠë ¤ì§€ì§€ëŠ” ì•Šì„ê¹Œ?
í•¨ìˆ˜ê°€ ì§§ìœ¼ë©´ ìºì‹±í•˜ê¸°ê°€ ë” ì‰½ê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ëŸ¬ ìµœì í™”ì— ìœ ë¦¬í•˜ë‹¤

### ì˜ˆì‹œ : ìœ íš¨ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ë³€ìˆ˜ê°€ ì—†ì„ ë•Œ

``` js
function printOwing(invoice) {
    let outstanding = 0;

    console.log('***********');
    console.log('**ê³ ê° ì±„ë¬´**');
    console.log('***********');

    // ë¯¸í•´ê²° ì±„ë¬´ë¥¼ ê³„ì‚°í•œë‹¤.
    for (const o of invoice.orders) {
      outstanding += o.amount;
    }

    // ë§ˆê°ì¼ì„ ê¸°ë¡í•œë‹¤.
    const today = Clock.today; // https://martinfowler.com/bliki/ClockWrapper.html
    invoice.dueDate = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 30);

    console.log(`ê³ ê°ëª…: ${invoice.customer}`);
    console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
    console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
}
```

1. ë°°ë„ˆ ì¶œë ¥ ë¡œì§ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œ
   
```js
    function printOwing(invoice) {
    let outstanding = 0;

    printBanner();

    // ë¯¸í•´ê²° ì±„ë¬´ë¥¼ ê³„ì‚°í•œë‹¤.
    for (const o of invoice.orders) {
      outstanding += o.amount;
    }

    // ë§ˆê°ì¼ì„ ê¸°ë¡í•œë‹¤.
    const today = Clock.today; // https://martinfowler.com/bliki/ClockWrapper.html
    invoice.dueDate = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 30);

    console.log(`ê³ ê°ëª…: ${invoice.customer}`);
    console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
    console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);

    function printBanner(){
        console.log('***********');
        console.log('**ê³ ê° ì±„ë¬´**');
        console.log('***********');
    }
}
```

2. ì„¸ë¶€ì‚¬í•­ì„ ì¶œë ¤í•˜ëŠ” ì½”ë“œë„ ì¶”ê°€í•œë‹¤.
   
```js
    function printOwing(invoice) {
        let outstanding = 0;

        printBanner();

        // ë¯¸í•´ê²° ì±„ë¬´ë¥¼ ê³„ì‚°í•œë‹¤.
        for (const o of invoice.orders) {
        outstanding += o.amount;
        }

        // ë§ˆê°ì¼ì„ ê¸°ë¡í•œë‹¤.
        const today = Clock.today; // https://martinfowler.com/bliki/ClockWrapper.html
        invoice.dueDate = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 30);

        printDetails();

        function printBanner(){
            console.log('***********');
            console.log('**ê³ ê° ì±„ë¬´**');
            console.log('***********');
        }

        function printDetails(){
            console.log(`ê³ ê°ëª…: ${invoice.customer}`);
            console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
            console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
        }
    }
```

### ì§€ì—­ë³€ìˆ˜ì˜ ê°’ì„ ë³€ê²½í•  ë•Œ

1. ì„ ì–¸ë¬¸ì„ ë³€ìˆ˜ê°€ ì‚¬ìš©ë˜ëŠ” ì½”ë“œ ê·¼ì²˜ë¡œ ìŠ¬ë¼ì´ë“œí•œë‹¤.

```js
    function printOwing(invoice) {
        printBanner();

        let outstanding = 0;
        // ë¯¸í•´ê²° ì±„ë¬´ë¥¼ ê³„ì‚°í•œë‹¤.
        for (const o of invoice.orders) {
        outstanding += o.amount;
        }

        // ë§ˆê°ì¼ì„ ê¸°ë¡í•œë‹¤.
        const today = Clock.today; // https://martinfowler.com/bliki/ClockWrapper.html
        invoice.dueDate = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 30);

        printDetails();

        function printBanner(){
            console.log('***********');
            console.log('**ê³ ê° ì±„ë¬´**');
            console.log('***********');
        }

        function printDetails(){
            console.log(`ê³ ê°ëª…: ${invoice.customer}`);
            console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
            console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
        }
    }
```

2. ì¶”ì¶œí•  ë¶€ë¶„ì„ ìƒˆë¡œìš´ í•¨ìˆ˜ë¡œ ë³µì‚¬í•œë‹¤.
3. ìƒˆë¡œìš´ í•¨ìˆ˜ì—ì„œ ê°’ì„ ë°˜í™˜í•˜ê³ , ì¶”ì¶œí•œ ì½”ë“œì˜ ì›ë˜ ìë¦¬ë¥¼ ìƒˆë¡œ ë½‘ì•„ë‚¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¬¸ì¥ìœ¼ë¡œ êµì²´í•œë‹¤.
4. ë°˜í™˜ê°’ì˜ ì´ë¦„ì„ ë‚´ ì½”ë”© ìŠ¤íƒ€ì¼ì— ë§ê²Œ ë°”ê¾¼ë‹¤.

```js
    function printOwing(invoice) {
        printBanner();

        let outstanding = calculateOutstanding(invoice);
        // ë§ˆê°ì¼ì„ ê¸°ë¡í•œë‹¤.
        const today = Clock.today; // https://martinfowler.com/bliki/ClockWrapper.html
        invoice.dueDate = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 30);

        printDetails();

        function printBanner(){
            console.log('***********');
            console.log('**ê³ ê° ì±„ë¬´**');
            console.log('***********');
        }

        function printDetails(){
            console.log(`ê³ ê°ëª…: ${invoice.customer}`);
            console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
            console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
        }

        function calculateOutstanding(invoice){
            let result = 0;
            // ë¯¸í•´ê²° ì±„ë¬´ë¥¼ ê³„ì‚°í•œë‹¤.
            for (const o of invoice.orders) {
                result += o.amount;
            }
        }
    }
```


## 6-2. í•¨ìˆ˜ ì¸ë¼ì¸í•˜ê¸°

