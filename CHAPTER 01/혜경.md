# 리팩토링 1장

리팩토링을 하려면 `테스트 코드`부터 마련해야한다
테스트는 반드시 자가진단하도록 해야한다.
-> 실수로부터 보호해주는 버그 검출기

## 함수 추출하기
<img width="1051" alt="스크린샷 2022-06-10 오후 1 20 40" src="https://user-images.githubusercontent.com/72402747/172989657-28a3e60a-5878-4366-a937-5278aa3bf895.png"/>

## 변수명을 정확하게 바꾸기
<img width="1068" alt="스크린샷 2022-06-10 오후 1 33 35" src="https://user-images.githubusercontent.com/72402747/172990955-12197009-8abd-4a9e-9419-010d2fcdcffe.png"/>

명확한 변수명을 작성한다

<img width="1056" alt="스크린샷 2022-06-10 오후 2 06 15" src="https://user-images.githubusercontent.com/72402747/172994210-7ba9f7e6-9b73-4e2e-97a9-cd5e767a50d9.png">

함수 선언 바꾸기를 통해 변수를 인라인한다

- 지역변수를 제거 -> 추출작업이 훨씬 쉬워진다
- 추출 작업 전에 지역 변수부터 제거할 것
  

## 함수 추출하기
  <img width="1089" alt="스크린샷 2022-06-10 오후 2 29 03" src="https://user-images.githubusercontent.com/72402747/172996660-548ab6a4-43fd-4b91-91cb-6a42936e92b6.png"></img>

  최대한 로컬 유효범위의 변수를 줄이고 추출하는게 좋다

## 임시변수 제거하기

<img width="1052" alt="스크린샷 2022-06-10 오후 2 36 03" src="https://user-images.githubusercontent.com/72402747/172997479-6794b906-896f-4dca-ae4e-4db4ca9df718.png">

format이라는 임시변수를 함수로 뺀다.
그 다음 좀 더 적합한 이름을 찾는다. 


## totalAmount 추출하기
<img width="1068" alt="스크린샷 2022-06-10 오후 2 48 55" src="https://user-images.githubusercontent.com/72402747/172999088-feaac300-755d-4807-a02a-c1bec7bd437a.png"></img>

변수 인라인하기 