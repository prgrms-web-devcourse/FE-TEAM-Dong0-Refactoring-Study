# 2장

## 2.1 리팩터링 정의

- 리팩터링을 하는 동안에도 코드는 정상 작동해야 한다.

- **리팩터링**과 **성능 최적화** 모두 코드를 개선하는 일이지만 리팩터링은 성능이 좋아질 수도 나빠질 수도 있다.

## 2.2 두 개의 모자

- **기능 추가** or **리팩터링**, 작업하는 본 목적을 명심하자

## 2.3 리팩터링하는 이유

- 나를 위해, 남을 위해 코드의 의도를 명확하고 쉽게 전달할 수 있다.
- 시스템의 확장에 사용될 새로운 기능 추가 속도를 올린다.
  - 모듈화가 잘 되어 있다면 코드베이스 중 일부만을 봐도 이해가 쉽다.

## 2.4 언제 리팩터링해야 할까?

- 비슷한 일을 세 번째 하게 되면 시도한다.
  - 간단한 수정은 바로 시도해보자
- 코드베이스에 새 기능을 추가하기 직전 === 기능 추가가 마무리 된 거 같다고 생각(정리)하는 시점?

## 2.5 리팩터링 시 고려할 문제

- 팀원이라면 모두 코드를 수정할 수 있는 게 좋다(느슨함).
- 머지는 메인을 브랜치로, 통합은 메인에서 브랜치로 풀 땡기고 푸시
- 기능별 브랜치 방식 vs CI
  - 메인과 통합 난이도
  - 리팩터링과의 궁합
- 자가 테스트 코드 작성 필요

# 2.6 리팩터링, 아키텍처, 애그니(YAGNI)

- 당장 필요한 기능만으로 최대한 간결하게 만들라

# 2.7 리팩터링과 소프트웨어 개발 프로세스

- CI + 자가 테스트 코드 + 리팩터링 = XP
  - 자가 테스트 코드 + 리팩터링 = TDD

# 2.8 리팩터링과 성능

- 성능 문제의 대부분은 코드의 극히 일부에서 발생
  - 의도적으로 신경 쓰기 전에는 다루기 쉬운 코드를 작성하자
  - 신경 써야할 때가 오면 프로파일러로 분석

# 2.9 리팩터링의 유래

- 정확한 유래는 없지만 필자는 개발 프로세스의 핵심 요소라고 주장 => 현재는 주류 개발 기법

# 2.10 리팩터링 자동화

- 좋은 IDE 쓰자
