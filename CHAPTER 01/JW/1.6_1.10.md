# 1.6~1.10

## 1.6

### 계산 단계 및 포맷팅 단계 분리

이 챕터에서는 이전까지 작은 함수단위로 분리했던 기능들을 조금 더 목적에 맞는 큰 단위로 묶어 나가는 방식의 Refactoring을 진행했다고 생각합니다.

JSON형식의 invoice, plays를 통해 게산 및 포맷팅 하는 과정을 별도로 분리해서 이후 HTML방식으로 추가적 렌더링 소요가 생겼을 때 새로운 기능을 추가하기가 쉬워졌다고 생각합니다.

## 1.8

### 다형성을 활용해 계산 코드 재구성하기

이 챕터에서는 class를 이용해 공연료에 관한 계산을 실행해 주는 객체를 만들고, 각 조건 (비극, 희극)에 따라 subClass를 생성하면서 원하는 계산값을 반환해 주는 형태로 리팩터링을 진행했습니다.

이후에 장르 추가에 따라 로직을 추가해야할 경우에는 Factory함수에 장르 케이스를 추가하고 서브클래스에서 메서드를 오버라이딩 하는 절차로 간단하게 추가작업을 진행할 수 있어보입니다.

## :thinking: Refactoring 이후 느낀점

- 각 단계를 git을 통해 commit으로 따라 해 본 결과 테스트 코드의 필요성이 느껴졌다.
    - 현재 책을 따라 수행한 코드에서 실수 여부를 보장할 수 없음
    - 이후 작업에서는 테스트코드를 작성해서 진행해야 함
- 수정이 용이한 코드를 만들어가는것에 중점을 두고 리팩토링을 사용하고 있음
    - 예시로 연극 장르가 추가되는 상황을 염두에 두고 클래스를 만드는 과정들에
